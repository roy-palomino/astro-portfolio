---
import SectionContainer from "../components/SectionContainer.astro";
import CompanyCard from "../components/CompanyCard.astro";
import Button from "../components/Button";

import { useTranslations, getLangFromUrl } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// TODO: Add more work items
const works = [
  {
    title: "ANDAP",
    description: t("andap.description"),
    image: import("../images/companies/andap.png"),
    url: "https://andap.edu.pe",
  },
  {
    title: "Escuela Mujer",
    description: t("escuelaMujer.description"),
    image: import("../images/companies/escuela-mujer.jpg"),
    url: "https://escuelamujer.org",
  },
  {
    title: "Quilla",
    description: t("quilla.description"),
    image: import("../images/companies/quilla-bg.jpg"),
    url: "https://centroquilla.com",
  },
];
---

<SectionContainer
  id="work"
  title={t("title.work")}
  description={t("section.work")}
  bgColorClass="bg-smoke"
>
  <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
    {
      works.map((companyWork) => (
        <CompanyCard
          {...{ ...companyWork, visitPage: t("miscellaneous.visitPage") }}
        />
      ))
    }
  </div>
  <div>
    <Button className="md:hidden" variant="accent"
      >{t("miscellaneous.showMore")}</Button
    >
  </div>
</SectionContainer>
